<ion-header>
  <ion-toolbar color=primary>
    <ion-buttons slot="start">
      <ion-button routerLink="/landing"><ion-icon name="arrow-back"></ion-icon></ion-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title class="ion-text-center">Mi historial</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-searchbar [formControl]="searchControl" 
  placeholder="Ingrese el mes, año o día de su consulta"
  (ionChange)="searchInput()"></ion-searchbar>
  <div *ngIf="searching" class="loading">
      <ion-spinner></ion-spinner>
  </div>  
  <ion-list *ngIf="historialesFromDb.length>0">
  <ion-item-sliding *ngFor="let hist of historiales">
        <ion-item class="item item-block item-md">
            <ion-label><h2>Consulta del día {{hist.fecha_consulta}}</h2>
              <ion-label ><p><ion-text color="primary">Sintomas:</ion-text></p><p *ngFor="let sint of hist.detalles.split(',')">{{sint}}</p></ion-label>
                                              </ion-label>
            
         </ion-item>
        <ion-item-options>
          <button ion-button color="light" icon-start routerLink="/history-detail/{{hist.hashId}}">
            <ion-icon name="more"></ion-icon>
            Detalles
          </button>
        </ion-item-options>  
       
        </ion-item-sliding>
      </ion-list>
      <h2 *ngIf="historialesFromDb.length==0">Su historial de consultas esta limpio, favor de realizar una consulta</h2>
</ion-content>
